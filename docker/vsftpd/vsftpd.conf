# vsftpd configuration for test server
# 15-minute idle timeout enforced

# Basic settings
listen=YES
listen_ipv6=NO
anonymous_enable=NO
local_enable=YES
write_enable=YES
local_umask=022
dirmessage_enable=YES
use_localtime=YES
xferlog_enable=YES
connect_from_port_20=YES

# Passive mode configuration
pasv_enable=YES
pasv_min_port=21100
pasv_max_port=21110
pasv_address=127.0.0.1

# Security settings
chroot_local_user=YES
allow_writeable_chroot=YES
secure_chroot_dir=/var/run/vsftpd/empty

# Session timeout: 15 minutes = 900 seconds
idle_session_timeout=900
data_connection_timeout=900

# Performance
max_clients=10
max_per_ip=5

# Logging
xferlog_file=/var/log/vsftpd.log
log_ftp_protocol=YES

# Virtual users
guest_enable=NO
pam_service_name=vsftpd

# File permissions
file_open_mode=0666
local_root=/home/vsftpd/$USER

# UTF-8 support
utf8_filesystem=YES
