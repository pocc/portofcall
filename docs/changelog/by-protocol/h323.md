# H.323 Review

**Protocol:** H.323
**File:** `src/worker/h323.ts`
**Reviewed:** 2026-02-18

## Summary

`docs/protocols/H323.md` was a generic overview document with a fictional `H323Client` TypeScript class (methods like `buildSetupMessage()`, `getMessageType()`, `receiveMessage()` that don't exist in the actual code), a fictional `H323Tester` React component, and a fictional endpoint `/api/h323/call` that doesn't exist. The actual four endpoints (`/connect`, `/register`, `/capabilities`, `/info`) were not documented. Replaced with an accurate power-user reference covering all 4 endpoints. Key additions: 1. **All 4 endpoints documented with full request/response JSON schemas** — `/connect` (multi-message call signaling loop), `/register` (gatekeeper registration probe), `/info` (lightweight port probe), `/capabilities` (H.245 TCS + MSD exchange).

## Bugs Found and Fixed

| # | Severity | Description |
|---|---|---|
| 1 | Medium | Added TPKT framing (RFC 1006) — all Q.931 PDUs now wrapped in 4-byte TPKT headers; response parsing uses proper TPKT deframing |

## Documentation Improvements

Full protocol documentation created with endpoint references, wire format specifications, and usage examples.

## See Also

- [Protocol Specification](../../protocols/H323.md)
- [Critical Fixes Summary](../critical-fixes.md)
- [Medium Fixes Summary](../medium-fixes.md)
