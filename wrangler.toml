name = "portofcall"
main = "src/worker/index.ts"
compatibility_date = "2026-02-07"
compatibility_flags = ["nodejs_compat"]

# Custom domain configuration
routes = [
  { pattern = "portofcall.ross.gg/*", custom_domain = true }
]

# Smart Placement: automatically migrates worker execution closer to backend services
[placement]
mode = "smart"

# For development
[env.dev]
vars = { ENVIRONMENT = "development" }

# For production
[env.production]
vars = { ENVIRONMENT = "production" }

# Asset binding for serving the built React app
[assets]
directory = "./dist"
binding = "ASSETS"

# Observability configuration
[observability.logs]
enabled = true
invocation_logs = true
